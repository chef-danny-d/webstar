<section class="auth">
	<h1 class="auth__header auth__header--one">WebStar</h1>
	<h2 class="auth__header auth__header--two">FrontEnd</h2>
	<form
		class="auth__form"
		[formGroup]="registerForm"
		(ngSubmit)="onSubmit()"
		*ngIf="!authenticated"
	>
		<div *ngIf="submitted && f.email.errors" class="notification__error">
			<div *ngIf="f.email.errors.required">Email is required</div>
			<div *ngIf="f.email.errors.email">
				Email must be a valid email address
			</div>
		</div>
		<div *ngIf="submitted && f.password.errors" class="notification__error">
			<div *ngIf="f.password.errors.required">Password is required</div>
		</div>
		<div *ngIf="submitted && error" class="notification__error">
			<div>{{ error.message }}</div>
			<div>{{ error.cause }}</div>
		</div>
		<label for="email" class="auth__form__label">
			Felhasználónév
			<input
				type="email"
				id="email"
				name="email"
				class="auth__form__input"
				formControlName="email"
			/>
		</label>
		<label for="password" class="auth__form__label">
			Jelszó
			<input
				type="password"
				id="password"
				name="password"
				class="auth__form__input"
				formControlName="password"
			/>
		</label>
		<button type="submit" class="auth__form__button">Bejelentkezés</button>
	</form>
	<div class="auth__form" *ngIf="authenticated">
		<h3 class="auth__form__header">Sikeres bejelentkezés</h3>
		<button class="auth__form__button" (click)="logout()">Kijelentkezés</button>
	</div>
</section>
